<!--pages/reward/index.wxml-->
<view class="integral">🍭：{{userIntegral || 0}}</view>
<view class="container" data-weui-theme="{{theme}}">
    <view wx:for="{{type}}" wx:for-item="typeItem" wx:key="*this" class="box">
        <view class="row">
            <view class="row_title row_width_content">{{typeItem == 'daily' ? '每日' : typeItem == 'weekly' ? '每周' : '其它'}}奖励</view>
            <view class="row_title row_width_number">积分</view>
            <view class="row_title row_width_action">操作</view>
        </view>
        <view class="divider"></view>
        <view wx:for="{{record}}" wx:key="_id">
            <view class="row row_detail" wx:if="{{item.type == typeItem}}">
                <view class="row_width_content">
                    <image wx:if="{{item.reward_image}}" class="image_detail" mode="scaleToFill" src="{{item.reward_image}}"></image>
                    {{item.reward_name}}
                </view>
                <view class="row_width_number">
                    {{item.reward_score}}
                </view>
                <view class="row_width_action">
                    <view id="{{item._id}}" class="button {{item.is_finished && 'button_disabled'}}" bindtap="{{item.is_finished ? '' : 'submitReward'}}" data-score="{{item.reward_score}}" data-type="{{item.type}}" data-name="{{item.reward_name}}">
                        {{item.is_finished ? '领过惹' : '领取'}}
                    </view>
                </view>
            </view>
        </view>
    </view>
</view>