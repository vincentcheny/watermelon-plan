<!--components/list/index.wxml-->

<view style="width: 100%; margin: auto 20rpx;">
    <view wx:for="{{types}}" wx:for-item="typeItem" wx:key="*this" class="box">
        <view class="row">
            <view class="row_title col_content">{{typeItem == 'daily' ? '每日' : typeItem == 'weekly' ? '每周' : '其它'}}任务</view>
            <view class="row_title col_score">积分</view>
        </view>
        <view class="divider"></view>

        <view wx:for="{{records}}" wx:key="_id">
            <mp-slideview buttons="{{item.is_finished? [slideButtons[1]]: [slideButtons[0]]}}" icon="{{true}}" bindshow="slideButtonShow" data-id="{{item._id}}" data-content="{{item.content}}" data-type="{{item.type}}" data-name="{{item.name}}">
                <view class="row row_detail1" wx:if="{{item.type == typeItem}}">
                    <view class="col_content">
                        <image wx:if="{{item.mission_image}}" class="image_detail" mode="scaleToFill" src="{{item.mission_image}}"></image>
                        {{item.name}}
                    </view>
                    <view class="col_score">
                        {{item.content}}
                    </view>
                </view>
            </mp-slideview>
        </view>
    </view>
</view>